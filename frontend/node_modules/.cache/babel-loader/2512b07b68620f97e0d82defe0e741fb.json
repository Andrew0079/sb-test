{"ast":null,"code":"export const fetchPost = async (endPoint, data, token = null) => {\n  const backend = \"http://localhost:8000/api/\";\n  const authorization = token ? {\n    \"Authorization\": `Token ${token}`\n  } : {};\n  console.log(...authorization);\n\n  try {\n    const fetchApiSettings = {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        ...authorization\n      },\n      body: data ? JSON.stringify(data) : null // body data type must match \"Content-Type\" header\n\n    };\n    const response = await fetch(backend + endPoint, fetchApiSettings);\n    return response.json();\n  } catch (error) {\n    return error;\n  }\n};","map":{"version":3,"sources":["/Users/bubba/Documents/silverbullet/frontend/src/utils/fetchApi.js"],"names":["fetchPost","endPoint","data","token","backend","authorization","console","log","fetchApiSettings","method","mode","cache","headers","Accept","body","JSON","stringify","response","fetch","json","error"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAG,OAAOC,QAAP,EAAiBC,IAAjB,EAAuBC,KAAK,GAAG,IAA/B,KAAyC;AAEhE,QAAMC,OAAO,GAAE,4BAAf;AACA,QAAMC,aAAa,GAAGF,KAAK,GAAG;AAAE,qBAAkB,SAAQA,KAAM;AAAlC,GAAH,GAA0C,EAArE;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAGF,aAAf;;AACA,MAAI;AACF,UAAMG,gBAAgB,GAAG;AACvBC,MAAAA,MAAM,EAAE,MADe;AAEvBC,MAAAA,IAAI,EAAE,MAFiB;AAGvBC,MAAAA,KAAK,EAAE,UAHgB;AAIvBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB,kBAFT;AAGP,WAAGR;AAHI,OAJc;AASvBS,MAAAA,IAAI,EAAEZ,IAAI,GAAGa,IAAI,CAACC,SAAL,CAAed,IAAf,CAAH,GAA0B,IATb,CASmB;;AATnB,KAAzB;AAWA,UAAMe,QAAQ,GAAG,MAAMC,KAAK,CAACd,OAAO,GAAGH,QAAX,EAAqBO,gBAArB,CAA5B;AACA,WAAOS,QAAQ,CAACE,IAAT,EAAP;AACD,GAdD,CAcE,OAAOC,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAtBM","sourcesContent":["export const fetchPost = async (endPoint, data, token = null ) => {\n\n  const backend =\"http://localhost:8000/api/\";\n  const authorization = token ? { \"Authorization\": `Token ${token}`} : {}\n  console.log(...authorization)\n  try {\n    const fetchApiSettings = {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        ...authorization\n      },\n      body: data ? JSON.stringify(data) : null, // body data type must match \"Content-Type\" header\n    };\n    const response = await fetch(backend + endPoint, fetchApiSettings);\n    return response.json();\n  } catch (error) {\n    return error;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}